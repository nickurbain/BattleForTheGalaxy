package conflict.supernova;

import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.Input.Keys;
import com.badlogic.gdx.graphics.Texture;
import com.badlogic.gdx.graphics.Texture.TextureFilter;
import com.badlogic.gdx.graphics.g2d.Sprite;
import com.badlogic.gdx.math.Rectangle;

public class MainShip {
	
	public Texture texture;
	public Sprite sprite;
	public Rectangle bounds;
	
	public MainShip() {
		texture = new Texture(Gdx.files.internal("main-ship.png"));
		texture.setFilter(TextureFilter.Linear, TextureFilter.Linear);  // smoother rendering
		sprite = new Sprite(texture);
		
		sprite.setSize(100, 80);
		sprite.setCenter(800, 450);
		sprite.setOriginCenter();
		sprite.setX(800 - sprite.getWidth() / 2);
		sprite.setY(450 - sprite.getHeight() / 2);
				

		bounds = new Rectangle(sprite.getX(), sprite.getY(), 100, 80);
		
	}

	public void update(Reticle ret) {

		if(Gdx.input.isKeyPressed(Keys.W)) {
			sprite.translateY(10);
			bounds.y += 10;
		}
		else if(Gdx.input.isKeyPressed(Keys.S)) {
			sprite.translateY(-10);
			bounds.y -= 10;
		}
		if(Gdx.input.isKeyPressed(Keys.A)) {
			sprite.translateX(-10);
			bounds.x -= 10;
		}
		else if(Gdx.input.isKeyPressed(Keys.D)) {
			sprite.translateX(10);
			bounds.x += 10;
		}
		
		if(Gdx.input.isKeyJustPressed(Keys.SPACE)) {
			// FIRE ZE LASER
		}
		
		float deg;
		deg = (float) ((Math.atan2 (ret.sprite.getX() - sprite.getX(), -(ret.sprite.getY() - sprite.getY())) * 180.0 / Math.PI) - 90.0);
		sprite.setRotation(deg);
		
		
		
	}
}
